import { DigilinoQuestion } from "../DigilinoQuestion.js";
import { InteractionContext } from "../../InteractionContext.js";

export class DigilinoMultipleChoice extends DigilinoQuestion {
    revealAnswer(interaction: InteractionContext) {
        let choices = interaction.interactionContainer.getElementsByClassName('mcItem');
        let correctAnswerIds = [];

        // Get the correct answer id.
        let items = interaction.interaction.templateData.questions[0].items;
        for(let i = 0; i < items.length; i++) {
            if(items[i].iscorrect == true) {
                correctAnswerIds.push(items[i].correct);
            }
        }

        for(let i = 0; i < choices.length; i++) {
            for(let j = 0; j < correctAnswerIds.length; j++) {
                if(choices[i].getAttribute("data-id") === correctAnswerIds[j]) {
                    choices[i].click();
                    break;
                }
            }
        }
    }
}